{"version":3,"sources":["./src/app/pagamento/pagamento.page.html","./src/app/pagamento/pagamento.module.ts","./src/app/pagamento/pagamento.page.scss","./src/app/pagamento/pagamento.page.ts"],"names":[],"mappings":"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","file":"pagamento-pagamento-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-buttons slot=\\\"start\\\">\\n          <a (click)=\\\"routerlink_api('/conta')\\\"><h3><ion-icon style=\\\"color: white;\\\" name=\\\"arrow-back\\\"></ion-icon></h3></a>\\n          </ion-buttons>\\n    </ion-buttons>\\n    <ion-title>Pagamento</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div *ngIf='new == false'>\\n    <ion-card>\\n      <div *ngIf='this.cards == null'>\\n        <ion-card-content>\\n          <div class=\\\"ion-text-center\\\">\\n            <p><font color='black'>Você não tem nenhum cartão adicionado.</font></p>\\n            <br>\\n            <ion-button (click)='mudar()' color='warning'>Adicionar</ion-button>\\n          </div>\\n        </ion-card-content>\\n      </div> \\n\\n\\n\\n      <ion-card-content *ngIf='this.cards != null'>\\n        <div class=\\\"ion-text-center\\\">\\n          <p><font color='black'>Cartões adicionados</font></p>\\n          </div>\\n          <br>\\n        <div class=\\\"ion-text-center\\\">\\n          <div *ngFor='let card of cards'>\\n            <ion-item>\\n              <ion-row>\\n                <ion-col col-6>\\n                  <div><img src=\\\"{{ getbandeira(card.number) }}\\\" alt=\\\"\\\" style=\\\"width: 50%;\\\"></div>\\n                </ion-col>\\n                <ion-col>\\n                  <div><font color='black'>final {{ card.number.substr(-4) }}</font></div>\\n                </ion-col>\\n                <ion-col>\\n                  <div><font color='blue'>Excluir</font></div>\\n                </ion-col>\\n              </ion-row>\\n              <br>\\n            </ion-item>\\n            <br>\\n          </div>\\n          <br>\\n            <ion-button (click)='mudar()' color='warning'>Adicionar outro</ion-button>\\n        </div>\\n      </ion-card-content>\\n    </ion-card>\\n  </div>\\n\\n\\n\\n\\n\\n  <div class=\\\"ion-padding\\\" *ngIf='new == true'>\\n   <ion-list>\\n    <ion-list-header>\\n      Adicione um novo cartão\\n    </ion-list-header>\\n    <ion-item>\\n      <ion-label position='floating'><b>Número do cartão</b></ion-label>\\n      <ion-input pattern=\\\"[0-9]*\\\"  type='number' placeholder=\\\"\\\" [(ngModel)]='number_s'></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position='floating'><b>DATA DE VALIDADE</b></ion-label>\\n      <ion-datetime displayFormat=\\\"MM/YY\\\" max='2030' [(ngModel)]='date_s' placeholder=\\\"\\\"></ion-datetime>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position='floating'><b>CVV</b></ion-label>\\n      <ion-input pattern=\\\"[0-9]*\\\" type='number' placeholder=\\\"\\\" [(ngModel)]='code_s'></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position='floating'><b>NOME DO TITULAR</b></ion-label>\\n      <ion-input type=\\\"text\\\" [(ngModel)]='name_s' placeholder=\\\"\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position='floating'><b>CPF DO TITULAR</b></ion-label>\\n      <ion-input pattern=\\\"[0-9]*\\\"  type=\\\"number\\\" [(ngModel)]='cpf_s' placeholder=\\\"\\\"></ion-input>\\n    </ion-item>\\n  </ion-list>\\n  <div class=\\\"ion-text-center\\\">\\n    <ion-button (click)='mudar()' color='danger'>Cancelar</ion-button>&nbsp;&nbsp;&nbsp;<ion-button (click)='adicionar()' color='warning'>Adicionar</ion-button>\\n  </div>\\n  \\n  </div>\\n\\n</ion-content>\\n\\n\\n\\n<style>\\n  #rounded {\\n    width: 100%;\\n    height: 100px;\\n    -moz-border-radius: 50px;\\n    -webkit-border-radius: 50px;\\n    border-radius: 10px;\\n    margin-bottom: 10px;\\n  }\\n</style>\\n\\n<style>\\n  \\n</style>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PagamentoPage } from './pagamento.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PagamentoPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [PagamentoPage]\n})\nexport class PagamentoPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2FtZW50by9wYWdhbWVudG8ucGFnZS5zY3NzIn0= */\"","import { Component, OnInit, NgZone } from '@angular/core';\nimport { HTTP } from '@ionic-native/http/ngx';\nimport { NavController, LoadingController, AlertController, Platform } from '@ionic/angular';\nimport { Config } from \"../config\";\nimport { NgxXml2jsonService } from 'ngx-xml2json';\nimport { Router } from '@angular/router';\nimport { DataService } from '../services/data.service';\n@Component({\n  selector: 'app-pagamento',\n  templateUrl: './pagamento.page.html',\n  styleUrls: ['./pagamento.page.scss'],\n})\nexport class PagamentoPage implements OnInit {\n\n  public cards = []\n  public number_s\n  public date_s\n  public code_s\n  public name_s\n  public cpf_s\n  public new = false\n  public myaccount;\n  public logado;\n  public itens = false\n\n  constructor(private ngxXml2jsonService: NgxXml2jsonService,\n    public alertCtrl: AlertController,\n    private router: Router, private dataService: DataService,\n    private http: HTTP,\n    public loadingController: LoadingController,\n    public navCtrl: NavController,\n    private zone: NgZone,\n    public platform: Platform) { \n\n      const datauser = JSON.parse(localStorage.getItem('cliente_data'));\n      this.platform.backButton.subscribe(() => {\n        this.routerlink_api('/home');\n      });\n     \n      if (datauser == null) {\n        this.logado = false;\n        this.navCtrl.navigateRoot('/minha-conta');\n      } else {\n        this.logado = true;\n        this.myaccount = datauser\n  \n      }\n\n      this.http.get(new Config().local_link_api + '/api/pagamento?de=' + this.myaccount['id'], {}, {}).then((data) => {\n        var datajson = JSON.parse(data.data);\n        this.cards = JSON.parse(data.data)\n\n        if (datajson == null) {\n          this.itens = false\n        }else{   \n          this.itens = true\n        }\n      })\n\n\n\n    }\n\n    get(){\n      return JSON.stringify(this.cards)\n    }  \n\n    adicionar(){\n           if (this.number_s == false) {\n            this.alert_erro('Vish :(', 'O número do seu cartão está incorreto', '');\n            return true;\n           } \n           if (this.date_s == null) {\n            this.alert_erro('Vish :(', 'Digite a validade do cartão', '');\n            return true;\n           }\n           if (this.code_s == null) {\n            this.alert_erro('Vish :(', 'Digite o cvv do cartão', 'Ele se encontra no verso do cartão');\n            return true;\n           }\n           if (this.name_s == null) {\n            this.alert_erro('Vish :(', 'Digite o nome do titular', '');\n            return true;\n           }\n           if (this.cpf_s == null) {\n            this.alert_erro('Vish :(', 'Digite o cpf do titular', '');\n            return true;\n           } \n   var bodys = \n   {\n    \"number\": this.number_s,\n    \"date\": this.date_s,\n    \"code\": this.code_s,\n    \"name\": this.name_s, \n    \"cpf\": this.cpf_s,\n    \"de\": this.myaccount['id']\n   } \n  ;\n  \n  this.http.setDataSerializer('json');\n    this.http.post(new Config().local_link_api + '/api/pagamento', bodys, {}).then((data) => {\n      this.alert_erro('SUCESSO', 'Seu cartão foi adicionado','');\n      this.new = false;\n\n      this.http.get(new Config().local_link_api + '/api/pagamento?de=' + this.myaccount['id'], {}, {}).then((data) => {\n        var datajson = JSON.parse(data.data);\n        this.cards = datajson\n      })\n\n    });\n  }\n\n  ngOnInit() {\n\n\n\n  }\n\n  getbandeira(cardnumber) {\n    var cartoes = {\n      'https://logodownload.org/wp-content/uploads/2016/10/visa-logo.png': /^4[0-9]{12}(?:[0-9]{3})/,\n      'https://logodownload.org/wp-content/uploads/2014/07/mastercard-logo-7.png': /^5[1-5][0-9]{14}/,\n      'Amex': /^3[47][0-9]{13}/,\n      'DinersClub': /^3(?:0[0-5]|[68][0-9])[0-9]{11}/,\n      'Discover': /^6(?:011|5[0-9]{2})[0-9]{12}/,\n      'JCB': /^(?:2131|1800|35\\d{3})\\d{11}/\n  };\n  \n  function testarCC(number, cartoes) {\n      for (var cartao in cartoes) if (number.match(cartoes[cartao])) return cartao;\n      return false;\n  }\n\n  return testarCC(cardnumber, cartoes)\n}\n\n\n  async alert_erro(header, subheader, message) {\n    const alert = await this.alertCtrl.create({\n      header: header,\n      subHeader: subheader,\n      message: message,\n      buttons: ['OK']\n    });\n    await alert.present();\n\n  }\n\n\n\n  routerlink_api(string){\n    this.zone.run(async () => {\n      await this.navCtrl.navigateForward(string);\n    });\n  }\n\n\n  mudar(){\n    if (this.new == true) {\n      this.new = false\n    }else{\n      this.new = true\n    }\n  }\n}\n"],"sourceRoot":"webpack:///"}