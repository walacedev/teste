{"version":3,"sources":["./src/app/produtos/produtos.page.html","./src/app/produtos/produtos.module.ts","./src/app/produtos/produtos.page.scss","./src/app/produtos/produtos.page.ts"],"names":[],"mappings":"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","file":"produtos-produtos-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar mode='ios'>\\n      <ion-buttons slot=\\\"start\\\">\\n          <ion-buttons slot=\\\"start\\\">\\n              <a (click)=\\\"routerlink_api('/cardapio/' + id)\\\"><h3><ion-icon style=\\\"color: white;\\\" name=\\\"arrow-back\\\"></ion-icon></h3></a>\\n              </ion-buttons>\\n        </ion-buttons>\\n        <ion-title><b>Fazer pedido</b></ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content fullscreen class=\\\"ion-padding\\\">\\n  <div *ngFor=\\\"let car of produtos\\\">\\n\\n      <ion-item (click)=\\\"rout(car.id);\\\">\\n        <div class=\\\"card\\\"><p><b>{{ car.nome }}</b></p>\\n          <p *ngIf='car.destaque == \\\"Sim\\\"'><font color='#d4950b'><ion-icon name='star'></ion-icon> Produto em destaque</font></p>\\n          <p>{{ car.descricao }}</p>\\n          <p >{{ precos(car.preco) }}</p> \\n\\n\\n         </div>\\n        \\n        </ion-item>\\n\\n      </div> \\n\\n</ion-content>\\n \\n<style>\\n    \\n    ion-item {\\n    --background: #fff;\\n    --color: #fff;\\n}\\n  \\nion-content {\\n    --background: #fff;\\n\\n} .card {\\n  background-color: #fff;\\n  color: white;\\n  padding: 2px;  \\n  height: auto;     \\n  white-space: break-word;\\n  border-radius: 5px;\\n  color: black;\\n}.cards { \\n  max-width: 300px; \\n  margin: 0 auto;  \\n  display: grid;\\n  grid-gap: 1rem;\\n  white-space: break-word;\\n}  \\n  \\n  </style>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProdutosPage } from './produtos.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProdutosPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ProdutosPage]\n})\nexport class ProdutosPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Byb2R1dG9zL3Byb2R1dG9zLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit, NgZone } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { HTTP } from '@ionic-native/http/ngx';\nimport { AlertController, NavController, LoadingController, Platform } from '@ionic/angular';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Config } from \"../config\";\n@Component({\n  selector: 'app-produtos',\n  templateUrl: './produtos.page.html',\n  styleUrls: ['./produtos.page.scss'],\n})\nexport class ProdutosPage implements OnInit {\n  public aa = \"teste\";\n  public produto_name;\n  public carrinho_boolean;\n  public carrinho\n  public total_carrinho = 0\n  public error;\n  produtos = [];\n  public loading;\n  public locais = []\n  public local;\n  public id;\n  public link = new Config().local_link_img\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private http: HTTP,\n    private zone: NgZone,\n    public alertCtrl: AlertController, sanitizer: DomSanitizer, public navCtrl: NavController,\n    public loadingController: LoadingController, public platform: Platform\n  ) {\n\n    \n  }\n\n  img(img) {\n    if (img == null) {\n      return this.link + \"none.png\";\n    } else {\n      return this.link + \"\" + img\n    }\n  }\n\n  ngOnInit() {\n\n  }\n\n  async ionViewWillEnter() {\n    this.zone.run(async () => {\n      this.platform.backButton.subscribe(() => {\n        this.routerlink_api('/cardapio/' + this.id);\n      });\n      this.id = JSON.parse(localStorage.getItem('restaurante'))['id']\n      this.total_carrinho = 0;\n      const data = JSON.parse(localStorage.getItem('carrinho'));\n      if (data == null) {\n        this.carrinho_boolean = false;\n      } else {\n        this.carrinho_boolean = true;\n  \n        this.carrinho = data\n  \n        var product_ony = 0;\n        this.carrinho.forEach(car => {\n          product_ony = 0;\n          product_ony = Number(product_ony) + Number(car['preco']);\n          //this.total_carrinho = Number(this.total_carrinho) + Number(car['preco']);\n          car['adicionais'].forEach(add => {\n            //this.total_carrinho = Number(this.total_carrinho) + Number(add['preco']);\n            product_ony = Number(product_ony) + Number(add['preco']);\n          });\n          product_ony = Number(car['quantidade']) * Number(product_ony);\n          this.total_carrinho = Number(this.total_carrinho) + Number(product_ony);\n  \n        });\n  \n      }\n      var id = this.router.url.replace('/produtos/', '');\n      this.carregando();\n      this.http.get(new Config().local_link_api + '/api/produtos/' + id + '/' + JSON.parse(localStorage.getItem('restaurante'))['id'], {}, {}).then((data) => {\n        var datajson = JSON.parse(data.data);\n        this.loading.dismiss();\n        if (datajson.status == 204) {\n          this.alert_erro()\n          return false;\n        }\n        this.produtos = datajson;\n  \n      }).catch((err) => {\n        this.loading.dismiss();\n      });\n    })\n  }\n\n  async carregando() {\n    this.loading = await this.loadingController.create({\n      message: 'Carregando'\n    });\n    await this.loading.present();\n  }\n\n  async alert_erro() {\n    const alert = await this.alertCtrl.create({\n      header: 'AVISO!',\n      subHeader: 'Essa categoria esta vazia',\n      message: '',\n      buttons: [{\n        text: 'Entendi!',\n        handler: () => {\n          this.navCtrl.back();\n        }\n      }]\n    });\n    await alert.present();\n  }\n\n  async alert_erroz(header, subheader, message) {\n    const alert = await this.alertCtrl.create({\n      header: header,\n      subHeader: subheader,\n      message: message,\n      buttons: ['OK']\n    });\n    await alert.present();\n  \n  }\n  precos(string){\n    if (string == 0) {\n      return \"\";\n    }else{\n      return 'R$ ' +string.replace('.', ',')\n    }\n  }\n  routerlink_api(string){\n    if(string == \"/pedido\"){\n     this.http.get(new Config().local_link_api + '/api/version.json', {}, {}).then((data) => {\n     var v = JSON.parse(data.data);\n     {\n\n       this.http.get(new Config().local_link_api + '/api/locais', {}, {}).then((data) => {\n         this.locais = JSON.parse(data.data);\n         this.locais.forEach(element => {\n           if (element['id'] == this.local['id']) {\n             if (element['status'] == \"FECHADO\" || element['status'] == null) {\n               this.alert_erroz(\"AVISO!!\", \"Local fechado no momento\", \"Veja o horÃ¡rio de funcionamento em contato\")\n             }else{\n               this.zone.run(async () => {\n                 await this.navCtrl.navigateForward(string);\n               });\n             }\n           }\n         });\n         }).catch((err) =>{\n          \n         });\n\n     }\n   }).catch((err) =>{\n     \n   });\n    }else{\n     this.zone.run(async () => {\n       await this.navCtrl.navigateForward(string);\n     });\n    }\n   \n }\n\n\n  rout(id) {\n    this.router.navigateByUrl('/produto/' + id);\n\n  }\n\n}\n"],"sourceRoot":"webpack:///"}