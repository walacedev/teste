{"version":3,"sources":["src/app/pagamento/pagamento.page.html","src/app/pagamento/pagamento.module.ts","src/app/pagamento/pagamento.page.scss","src/app/pagamento/pagamento.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-buttons slot=\\\"start\\\">\\n          <a (click)=\\\"routerlink_api('/conta')\\\"><h3><ion-icon style=\\\"color: white;\\\" name=\\\"arrow-back\\\"></ion-icon></h3></a>\\n          </ion-buttons>\\n    </ion-buttons>\\n    <ion-title>Pagamento</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div *ngIf='new == false'>\\n    <ion-card>\\n      <div *ngIf='this.cards == null'>\\n        <ion-card-content>\\n          <div class=\\\"ion-text-center\\\">\\n            <p><font color='black'>Você não tem nenhum cartão adicionado.</font></p>\\n            <br>\\n            <ion-button (click)='mudar()' color='warning'>Adicionar</ion-button>\\n          </div>\\n        </ion-card-content>\\n      </div> \\n\\n\\n\\n      <ion-card-content *ngIf='this.cards != null'>\\n        <div class=\\\"ion-text-center\\\">\\n          <p><font color='black'>Cartões adicionados</font></p>\\n          </div>\\n          <br>\\n        <div class=\\\"ion-text-center\\\">\\n          <div *ngFor='let card of cards'>\\n            <ion-item>\\n              <ion-row>\\n                <ion-col col-6>\\n                  <div><img src=\\\"{{ getbandeira(card.number) }}\\\" alt=\\\"\\\" style=\\\"width: 50%;\\\"></div>\\n                </ion-col>\\n                <ion-col>\\n                  <div><font color='black'>final {{ card.number.substr(-4) }}</font></div>\\n                </ion-col>\\n                <ion-col>\\n                  <div><font color='blue'>Excluir</font></div>\\n                </ion-col>\\n              </ion-row>\\n              <br>\\n            </ion-item>\\n            <br>\\n          </div>\\n          <br>\\n            <ion-button (click)='mudar()' color='warning'>Adicionar outro</ion-button>\\n        </div>\\n      </ion-card-content>\\n    </ion-card>\\n  </div>\\n\\n\\n\\n\\n\\n  <div class=\\\"ion-padding\\\" *ngIf='new == true'>\\n   <ion-list>\\n    <ion-list-header>\\n      Adicione um novo cartão\\n    </ion-list-header>\\n    <ion-item>\\n      <ion-label position='floating'><b>Número do cartão</b></ion-label>\\n      <ion-input pattern=\\\"[0-9]*\\\"  type='number' placeholder=\\\"\\\" [(ngModel)]='number_s'></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position='floating'><b>DATA DE VALIDADE</b></ion-label>\\n      <ion-datetime displayFormat=\\\"MM/YY\\\" max='2030' [(ngModel)]='date_s' placeholder=\\\"\\\"></ion-datetime>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position='floating'><b>CVV</b></ion-label>\\n      <ion-input pattern=\\\"[0-9]*\\\" type='number' placeholder=\\\"\\\" [(ngModel)]='code_s'></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position='floating'><b>NOME DO TITULAR</b></ion-label>\\n      <ion-input type=\\\"text\\\" [(ngModel)]='name_s' placeholder=\\\"\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position='floating'><b>CPF DO TITULAR</b></ion-label>\\n      <ion-input pattern=\\\"[0-9]*\\\"  type=\\\"number\\\" [(ngModel)]='cpf_s' placeholder=\\\"\\\"></ion-input>\\n    </ion-item>\\n  </ion-list>\\n  <div class=\\\"ion-text-center\\\">\\n    <ion-button (click)='mudar()' color='danger'>Cancelar</ion-button>&nbsp;&nbsp;&nbsp;<ion-button (click)='adicionar()' color='warning'>Adicionar</ion-button>\\n  </div>\\n  \\n  </div>\\n\\n</ion-content>\\n\\n\\n\\n<style>\\n  #rounded {\\n    width: 100%;\\n    height: 100px;\\n    -moz-border-radius: 50px;\\n    -webkit-border-radius: 50px;\\n    border-radius: 10px;\\n    margin-bottom: 10px;\\n  }\\n</style>\\n\\n<style>\\n  \\n</style>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PagamentoPage } from './pagamento.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PagamentoPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [PagamentoPage]\n})\nexport class PagamentoPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2FtZW50by9wYWdhbWVudG8ucGFnZS5zY3NzIn0= */\"","import { Component, OnInit, NgZone } from '@angular/core';\nimport { HTTP } from '@ionic-native/http/ngx';\nimport { NavController, LoadingController, AlertController, Platform } from '@ionic/angular';\nimport { Config } from \"../config\";\nimport { NgxXml2jsonService } from 'ngx-xml2json';\nimport { Router } from '@angular/router';\nimport { DataService } from '../services/data.service';\n@Component({\n  selector: 'app-pagamento',\n  templateUrl: './pagamento.page.html',\n  styleUrls: ['./pagamento.page.scss'],\n})\nexport class PagamentoPage implements OnInit {\n\n  public cards = []\n  public number_s\n  public date_s\n  public code_s\n  public name_s\n  public cpf_s\n  public new = false\n  public myaccount;\n  public logado;\n  public itens = false\n\n  constructor(private ngxXml2jsonService: NgxXml2jsonService,\n    public alertCtrl: AlertController,\n    private router: Router, private dataService: DataService,\n    private http: HTTP,\n    public loadingController: LoadingController,\n    public navCtrl: NavController,\n    private zone: NgZone,\n    public platform: Platform) { \n\n      const datauser = JSON.parse(localStorage.getItem('cliente_data'));\n      this.platform.backButton.subscribe(() => {\n        this.routerlink_api('/home');\n      });\n     \n      if (datauser == null) {\n        this.logado = false;\n        this.navCtrl.navigateRoot('/minha-conta');\n      } else {\n        this.logado = true;\n        this.myaccount = datauser\n  \n      }\n\n      this.http.get(new Config().local_link_api + '/api/pagamento?de=' + this.myaccount['id'], {}, {}).then((data) => {\n        var datajson = JSON.parse(data.data);\n        this.cards = JSON.parse(data.data)\n\n        if (datajson == null) {\n          this.itens = false\n        }else{   \n          this.itens = true\n        }\n      })\n\n\n\n    }\n\n    get(){\n      return JSON.stringify(this.cards)\n    }  \n\n    adicionar(){\n           if (this.number_s == false) {\n            this.alert_erro('Vish :(', 'O número do seu cartão está incorreto', '');\n            return true;\n           } \n           if (this.date_s == null) {\n            this.alert_erro('Vish :(', 'Digite a validade do cartão', '');\n            return true;\n           }\n           if (this.code_s == null) {\n            this.alert_erro('Vish :(', 'Digite o cvv do cartão', 'Ele se encontra no verso do cartão');\n            return true;\n           }\n           if (this.name_s == null) {\n            this.alert_erro('Vish :(', 'Digite o nome do titular', '');\n            return true;\n           }\n           if (this.cpf_s == null) {\n            this.alert_erro('Vish :(', 'Digite o cpf do titular', '');\n            return true;\n           } \n   var bodys = \n   {\n    \"number\": this.number_s,\n    \"date\": this.date_s,\n    \"code\": this.code_s,\n    \"name\": this.name_s, \n    \"cpf\": this.cpf_s,\n    \"de\": this.myaccount['id']\n   } \n  ;\n  \n  this.http.setDataSerializer('json');\n    this.http.post(new Config().local_link_api + '/api/pagamento', bodys, {}).then((data) => {\n      this.alert_erro('SUCESSO', 'Seu cartão foi adicionado','');\n      this.new = false;\n\n      this.http.get(new Config().local_link_api + '/api/pagamento?de=' + this.myaccount['id'], {}, {}).then((data) => {\n        var datajson = JSON.parse(data.data);\n        this.cards = datajson\n      })\n\n    });\n  }\n\n  ngOnInit() {\n\n\n\n  }\n\n  getbandeira(cardnumber) {\n    var cartoes = {\n      'https://logodownload.org/wp-content/uploads/2016/10/visa-logo.png': /^4[0-9]{12}(?:[0-9]{3})/,\n      'https://logodownload.org/wp-content/uploads/2014/07/mastercard-logo-7.png': /^5[1-5][0-9]{14}/,\n      'Amex': /^3[47][0-9]{13}/,\n      'DinersClub': /^3(?:0[0-5]|[68][0-9])[0-9]{11}/,\n      'Discover': /^6(?:011|5[0-9]{2})[0-9]{12}/,\n      'JCB': /^(?:2131|1800|35\\d{3})\\d{11}/\n  };\n  \n  function testarCC(number, cartoes) {\n      for (var cartao in cartoes) if (number.match(cartoes[cartao])) return cartao;\n      return false;\n  }\n\n  return testarCC(cardnumber, cartoes)\n}\n\n\n  async alert_erro(header, subheader, message) {\n    const alert = await this.alertCtrl.create({\n      header: header,\n      subHeader: subheader,\n      message: message,\n      buttons: ['OK']\n    });\n    await alert.present();\n\n  }\n\n\n\n  routerlink_api(string){\n    this.zone.run(async () => {\n      await this.navCtrl.navigateForward(string);\n    });\n  }\n\n\n  mudar(){\n    if (this.new == true) {\n      this.new = false\n    }else{\n      this.new = true\n    }\n  }\n}\n"],"sourceRoot":"webpack:///","file":"pagamento-pagamento-module-es5.js"}