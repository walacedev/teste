{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{NSGw:function(l,n,u){\"use strict\";u.r(n);var t=u(\"8Y7J\"),i=u(\"mrSG\"),o=u(\"yp2w\"),e=u(\"ZZ/e\"),r=u(\"Vx+w\");class a{constructor(l,n,u,t,i,o,e){this.route=l,this.router=n,this.http=u,this.alertCtrl=t,this.navCtrl=i,this.loadingController=o,this.zone=e,this.product=[],this.adicionais=[],this.total=0,this.quantidade=1,this.final=[],this.itens=[],this.jsonfinal=[],this.adicionaisitem=[],this.menuarray=[],this.menuarray_new=[],this.NUMBER_REGEXP=/^\\s*(\\-|\\+)?(\\d+|(\\d*(\\.\\d*)))([eE][+-]?\\d+)?\\s*$/,this.limit=[],this.checked=[]}carregando(){return i.b(this,void 0,void 0,(function*(){this.loading=yield this.loadingController.create({message:\"Carregando\"}),yield this.loading.present()}))}ngOnInit(){var l=this.router.url.replace(\"/produto/\",\"\");this.http.get((new r.a).local_link_api+\"/api/produto/\"+l,{},{}).then(l=>{var n=JSON.parse(l.data);this.product=n[0],this.nome=this.product.nome,this.descricao=this.product.descricao,this.preco=this.product.preco,this.back_button=this.product.de,this.total=Number(this.product.preco),n.forEach(l=>{l.de.length>4?JSON.parse(l.de).forEach(n=>{n==this.product.id&&this.menuarray_new.push(l)}):this.adicionaisitem.push({nome:l.nome,de:l.de,id:l.id,preco:l.preco,isChecked:!1})}),this.adicionaisitem.splice(0,1)})}categorias(l){var n=[];return this.adicionaisitem.forEach(u=>{u.de==l&&n.push(u)}),n}routerlink_api(l){this.zone.run(()=>i.b(this,void 0,void 0,(function*(){yield this.navCtrl.navigateForward(l)})))}onKeyUp(l){this.get_total(\"zz\");let n=l.target.value;new RegExp(this.NUMBER_REGEXP).test(n)||(l.target.value=n.slice(0,-1))}get_total(l){this.final=[],this.total=0,this.adicionaisitem.forEach(l=>{1==l.isChecked?this.final.push({nome:l.nome,id:l.id,de:l.de,preco:l.preco,tipo:1}):this.final.forEach(n=>{n.id==l.id&&this.final.splice(n,1)})}),this.final.forEach(l=>{this.total=Number(this.total)+Number(l.preco)}),this.total=Number(this.total)+Number(this.product.preco),this.total=Number(this.total)*Number(this.quantidade)}checkcomplementos(){var l=!0;return this.menuarray_new.forEach(n=>{var u=0;this.final.forEach(l=>{l.de==n.id&&u++}),u>n.quantidade&&(this.alert_erro(\"LIMITE DE COMPLEMENTO\",\"Escolha apenas \"+n.quantidade,n.nome),l=!1)}),l}addcart(){if(0==this.checkcomplementos())return!1;const l=JSON.parse(localStorage.getItem(\"carrinho\"));this.itens.push({nome:this.product.nome,adicionais:this.final,id:this.product.id,quantidade:this.quantidade,preco:this.product.preco,tipo:3}),null==l?localStorage.setItem(\"carrinho\",JSON.stringify(this.itens)):(l.forEach(l=>{this.jsonfinal.push({nome:l.nome,adicionais:l.adicionais,id:l.id,obs:this.obs_s,quantidade:l.quantidade,preco:l.preco,tipo:l.tipo})}),this.itens.forEach(l=>{this.jsonfinal.push({nome:l.nome,adicionais:l.adicionais,id:l.id,obs:this.obs_s,quantidade:l.quantidade,preco:l.preco,tipo:l.tipo})}),localStorage.setItem(\"carrinho\",JSON.stringify(this.jsonfinal))),this.navCtrl.navigateRoot(\"/cardapio\")}alert_erro(l,n,u){return i.b(this,void 0,void 0,(function*(){const t=yield this.alertCtrl.create({header:l,subHeader:n,message:u,buttons:[\"OK\"]});yield t.present()}))}}class c{}var s=u(\"pMnS\"),b=u(\"oBZk\"),d=u(\"s7LF\"),h=u(\"SVse\"),p=u(\"iInd\"),g=t.pb({encapsulation:0,styles:[\"ion-card[_ngcontent-%COMP%] {\\n    --background: #e97e1c;\\n    --color: #fff;\\n}\",[\"\"]],data:{}});function m(l){return t.Ib(0,[(l()(),t.rb(0,0,null,null,1,\"div\",[],null,null,null,null,null)),(l()(),t.Hb(1,null,[\" \",\" \"]))],null,(function(l,n){l(n,1,0,n.context.$implicit.nome)}))}function f(l){return t.Ib(0,[(l()(),t.rb(0,0,null,null,12,\"ion-item\",[],null,null,null,b.M,b.o)),t.qb(1,49152,null,0,e.H,[t.h,t.k,t.x],null,null),(l()(),t.rb(2,0,null,0,2,\"ion-label\",[],null,null,null,b.N,b.p)),t.qb(3,49152,null,0,e.N,[t.h,t.k,t.x],null,null),(l()(),t.Hb(4,0,[\"\",\"\"])),(l()(),t.Hb(5,0,[\" R$\",\" \"])),(l()(),t.rb(6,0,null,0,6,\"ion-checkbox\",[[\"slot\",\"end\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"ionChange\"],[null,\"ionBlur\"]],(function(l,n,u){var i=!0,o=l.component;return\"ionBlur\"===n&&(i=!1!==t.Db(l,7)._handleBlurEvent(u.target)&&i),\"ionChange\"===n&&(i=!1!==t.Db(l,7)._handleIonChange(u.target)&&i),\"ngModelChange\"===n&&(i=!1!==(l.context.$implicit.isChecked=u)&&i),\"ionChange\"===n&&(i=!1!==o.get_total(l.context.$implicit.de)&&i),i}),b.G,b.i)),t.qb(7,16384,null,0,e.c,[t.k],null,null),t.Eb(1024,null,d.b,(function(l){return[l]}),[e.c]),t.qb(9,671744,null,0,d.e,[[8,null],[8,null],[8,null],[6,d.b]],{model:[0,\"model\"]},{update:\"ngModelChange\"}),t.Eb(2048,null,d.c,null,[d.e]),t.qb(11,16384,null,0,d.d,[[4,d.c]],null,null),t.qb(12,49152,null,0,e.r,[t.h,t.k,t.x],null,null)],(function(l,n){l(n,9,0,n.context.$implicit.isChecked)}),(function(l,n){l(n,4,0,n.context.$implicit.nome),l(n,5,0,n.context.$implicit.preco),l(n,6,0,t.Db(n,11).ngClassUntouched,t.Db(n,11).ngClassTouched,t.Db(n,11).ngClassPristine,t.Db(n,11).ngClassDirty,t.Db(n,11).ngClassValid,t.Db(n,11).ngClassInvalid,t.Db(n,11).ngClassPending)}))}function k(l){return t.Ib(0,[(l()(),t.rb(0,0,null,null,9,\"div\",[],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,8,\"ion-card\",[],null,null,null,b.F,b.d)),t.qb(2,49152,null,0,e.m,[t.h,t.k,t.x],null,null),(l()(),t.rb(3,0,null,0,2,\"ion-card-header\",[],null,null,null,b.C,b.f)),t.qb(4,49152,null,0,e.o,[t.h,t.k,t.x],null,null),(l()(),t.Hb(5,0,[\"\",\" (Escolher at\\xe9 \",\")\"])),(l()(),t.rb(6,0,null,0,3,\"ion-card-content\",[],null,null,null,b.B,b.e)),t.qb(7,49152,null,0,e.n,[t.h,t.k,t.x],null,null),(l()(),t.gb(16777216,null,0,1,null,f)),t.qb(9,278528,null,0,h.h,[t.M,t.J,t.q],{ngForOf:[0,\"ngForOf\"]},null)],(function(l,n){l(n,9,0,n.component.categorias(n.context.$implicit.id))}),(function(l,n){l(n,5,0,n.context.$implicit.nome,n.context.$implicit.quantidade)}))}function q(l){return t.Ib(0,[(l()(),t.rb(0,0,null,null,4,\"ion-button\",[[\"color\",\"success\"],[\"expand\",\"block\"]],null,[[null,\"click\"]],(function(l,n,u){var t=!0;return\"click\"===n&&(t=!1!==l.component.addcart()&&t),t}),b.z,b.b)),t.qb(1,49152,null,0,e.k,[t.h,t.k,t.x],{color:[0,\"color\"],expand:[1,\"expand\"]},null),(l()(),t.rb(2,0,null,0,1,\"ion-icon\",[[\"name\",\"cart\"],[\"slot\",\"end\"]],null,null,null,b.K,b.m)),t.qb(3,49152,null,0,e.C,[t.h,t.k,t.x],{name:[0,\"name\"]},null),(l()(),t.Hb(-1,0,[\" Adicionar ao pedido \"]))],(function(l,n){l(n,1,0,\"success\",\"block\"),l(n,3,0,\"cart\")}),null)}function x(l){return t.Ib(0,[(l()(),t.rb(0,0,null,null,15,\"ion-header\",[],null,null,null,b.J,b.l)),t.qb(1,49152,null,0,e.B,[t.h,t.k,t.x],null,null),(l()(),t.rb(2,0,null,0,13,\"ion-toolbar\",[],null,null,null,b.V,b.x)),t.qb(3,49152,null,0,e.Cb,[t.h,t.k,t.x],null,null),(l()(),t.rb(4,0,null,0,8,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,b.A,b.c)),t.qb(5,49152,null,0,e.l,[t.h,t.k,t.x],null,null),(l()(),t.rb(6,0,null,0,6,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,b.A,b.c)),t.qb(7,49152,null,0,e.l,[t.h,t.k,t.x],null,null),(l()(),t.rb(8,0,null,0,4,\"a\",[],[[1,\"target\",0],[8,\"href\",4]],[[null,\"click\"]],(function(l,n,u){var i=!0;return\"click\"===n&&(i=!1!==t.Db(l,9).onClick(u)&&i),\"click\"===n&&(i=!1!==t.Db(l,10).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&i),i}),null,null)),t.qb(9,737280,null,0,e.Mb,[h.g,e.Ib,t.k,p.m,[2,p.n]],null,null),t.qb(10,671744,null,0,p.o,[p.m,p.a,h.g],{routerLink:[0,\"routerLink\"]},null),(l()(),t.rb(11,0,null,null,1,\"font\",[[\"color\",\"white\"]],null,null,null,null,null)),(l()(),t.Hb(-1,null,[\"Voltar\"])),(l()(),t.rb(13,0,null,0,2,\"ion-title\",[],null,null,null,b.U,b.w)),t.qb(14,49152,null,0,e.Ab,[t.h,t.k,t.x],null,null),(l()(),t.Hb(15,0,[\"Adicionar \",\"\"])),(l()(),t.rb(16,0,null,null,43,\"ion-content\",[],null,null,null,b.H,b.j)),t.qb(17,49152,null,0,e.u,[t.h,t.k,t.x],null,null),(l()(),t.rb(18,0,null,0,26,\"ion-card\",[],null,null,null,b.F,b.d)),t.qb(19,49152,null,0,e.m,[t.h,t.k,t.x],null,null),(l()(),t.rb(20,0,null,0,16,\"ion-card-header\",[],null,null,null,b.C,b.f)),t.qb(21,49152,null,0,e.o,[t.h,t.k,t.x],null,null),(l()(),t.rb(22,0,null,0,3,\"ion-card-subtitle\",[],null,null,null,b.D,b.g)),t.qb(23,49152,null,0,e.p,[t.h,t.k,t.x],null,null),(l()(),t.rb(24,0,null,0,1,\"font\",[[\"color\",\"white\"]],null,null,null,null,null)),(l()(),t.Hb(-1,null,[\"Resumo do item\"])),(l()(),t.rb(26,0,null,0,10,\"h3\",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,[\"QTD \"])),(l()(),t.rb(28,0,null,null,8,\"ion-text\",[[\"color\",\"success\"]],null,null,null,b.S,b.u)),t.qb(29,49152,null,0,e.xb,[t.h,t.k,t.x],{color:[0,\"color\"]},null),(l()(),t.rb(30,0,null,0,6,\"ion-input\",[[\"type\",\"number\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"keyup\"],[null,\"ngModelChange\"],[null,\"ionBlur\"],[null,\"ionChange\"]],(function(l,n,u){var i=!0,o=l.component;return\"ionBlur\"===n&&(i=!1!==t.Db(l,31)._handleBlurEvent(u.target)&&i),\"ionChange\"===n&&(i=!1!==t.Db(l,31)._handleIonChange(u.target)&&i),\"keyup\"===n&&(i=!1!==o.onKeyUp(u)&&i),\"ngModelChange\"===n&&(i=!1!==(o.quantidade=u)&&i),i}),b.L,b.n)),t.qb(31,16384,null,0,e.Jb,[t.k],null,null),t.Eb(1024,null,d.b,(function(l){return[l]}),[e.Jb]),t.qb(33,671744,null,0,d.e,[[8,null],[8,null],[8,null],[6,d.b]],{model:[0,\"model\"]},{update:\"ngModelChange\"}),t.Eb(2048,null,d.c,null,[d.e]),t.qb(35,16384,null,0,d.d,[[4,d.c]],null,null),t.qb(36,49152,null,0,e.G,[t.h,t.k,t.x],{type:[0,\"type\"]},null),(l()(),t.rb(37,0,null,0,7,\"ion-card-content\",[[\"style\",\"text-transform: uppercase\"]],null,null,null,b.B,b.e)),t.qb(38,49152,null,0,e.n,[t.h,t.k,t.x],null,null),(l()(),t.Hb(39,0,[\" \",\" \"])),(l()(),t.rb(40,0,null,0,0,\"br\",[],null,null,null,null,null)),(l()(),t.Hb(-1,0,[\" Valor \"])),(l()(),t.rb(42,0,null,0,2,\"ion-text\",[[\"color\",\"warning\"],[\"style\",\"text-transform: uppercase\"]],null,null,null,b.S,b.u)),t.qb(43,49152,null,0,e.xb,[t.h,t.k,t.x],{color:[0,\"color\"]},null),(l()(),t.Hb(44,0,[\" R$\",\" \"])),(l()(),t.gb(16777216,null,0,1,null,m)),t.qb(46,278528,null,0,h.h,[t.M,t.J,t.q],{ngForOf:[0,\"ngForOf\"]},null),(l()(),t.gb(16777216,null,0,1,null,k)),t.qb(48,278528,null,0,h.h,[t.M,t.J,t.q],{ngForOf:[0,\"ngForOf\"]},null),(l()(),t.rb(49,0,null,0,0,\"br\",[],null,null,null,null,null)),(l()(),t.rb(50,0,null,0,9,\"ion-card\",[],null,null,null,b.F,b.d)),t.qb(51,49152,null,0,e.m,[t.h,t.k,t.x],null,null),(l()(),t.rb(52,0,null,0,7,\"ion-card-content\",[],null,null,null,b.B,b.e)),t.qb(53,49152,null,0,e.n,[t.h,t.k,t.x],null,null),(l()(),t.rb(54,0,null,0,5,\"section\",[[\"class\",\"ion-padding\"]],null,null,null,null,null)),(l()(),t.rb(55,0,null,null,1,\"h2\",[],null,null,null,null,null)),(l()(),t.Hb(56,null,[\"TOTAL: R$\",\"\"])),(l()(),t.gb(16777216,null,null,1,null,q)),t.qb(58,16384,null,0,h.i,[t.M,t.J],{ngIf:[0,\"ngIf\"]},null),(l()(),t.Hb(59,null,[\" \",\" \"]))],(function(l,n){var u=n.component;l(n,9,0),l(n,10,0,t.vb(1,\"/produtos/\",u.back_button,\"\")),l(n,29,0,\"success\"),l(n,33,0,u.quantidade),l(n,36,0,\"number\"),l(n,43,0,\"warning\"),l(n,46,0,u.limit),l(n,48,0,u.menuarray_new),l(n,58,0,null!=u.nome)}),(function(l,n){var u=n.component;l(n,8,0,t.Db(n,10).target,t.Db(n,10).href),l(n,15,0,u.nome),l(n,30,0,t.Db(n,35).ngClassUntouched,t.Db(n,35).ngClassTouched,t.Db(n,35).ngClassPristine,t.Db(n,35).ngClassDirty,t.Db(n,35).ngClassValid,t.Db(n,35).ngClassInvalid,t.Db(n,35).ngClassPending),l(n,39,0,u.descricao),l(n,44,0,u.preco),l(n,56,0,u.total),l(n,59,0,u.itens)}))}function C(l){return t.Ib(0,[(l()(),t.rb(0,0,null,null,1,\"app-produto\",[],null,null,null,x,g)),t.qb(1,114688,null,0,a,[p.a,p.m,o.a,e.a,e.Ib,e.Gb,t.x],null,null)],(function(l,n){l(n,1,0)}),null)}var v=t.nb(\"app-produto\",a,C,{},{},[]);u.d(n,\"ProdutoPageModuleNgFactory\",(function(){return E}));var E=t.ob(c,[],(function(l){return t.Ab([t.Bb(512,t.j,t.Z,[[8,[s.a,v]],[3,t.j],t.v]),t.Bb(4608,h.k,h.j,[t.s,[2,h.q]]),t.Bb(4608,d.g,d.g,[]),t.Bb(4608,e.b,e.b,[t.x,t.g]),t.Bb(4608,e.Hb,e.Hb,[e.b,t.j,t.p]),t.Bb(4608,e.Lb,e.Lb,[e.b,t.j,t.p]),t.Bb(1073742336,h.b,h.b,[]),t.Bb(1073742336,d.f,d.f,[]),t.Bb(1073742336,d.a,d.a,[]),t.Bb(1073742336,e.Eb,e.Eb,[]),t.Bb(1073742336,p.p,p.p,[[2,p.u],[2,p.m]]),t.Bb(1073742336,c,c,[]),t.Bb(1024,p.k,(function(){return[[{path:\"\",component:a}]]}),[])])}))}}]);","extractedComments":[]}